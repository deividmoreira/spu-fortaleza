<fieldset>
    <legend>Dados Gerais</legend>
    <?php 
    echo $this->fieldList()->open();
    echo $this->fieldList()->textbox('Data', 'data', null, array('required' => true, 'class' => 'mascaraData'));
    echo $this->fieldList()->textbox('Hora', 'hora', date('H:i'), array('required' => true, 'class' => 'mascaraHora'));
    echo $this->fieldList()->textbox('N&ordm; Origem', 'numeroOrigem');
    echo $this->fieldList()->textbox('Observa&ccedil;&atilde;o', 'observacao', null, array('length' => 60));
    echo $this->fieldList()->close();
    ?>
</fieldset>

<fieldset>
    <legend>Processo</legend>
    <?php 
    echo $this->fieldList()->open();
    
    if (!$this->tipoProcesso->tramitacao->isParalela()) {
        echo $this->ajaxSelect('Destino', 
                               'destino', 
                               $this->simpleUrl('listar-destinos', 'protocolos-ajax'), 
                               array('Nome'), 
                               array('required' => true, 'linkName' => 'Estrutura'));
    } else {
    	echo $this->ajaxSelectMultiple('Destinos', 
    	                               'destino', 
    	                               $this->simpleUrl('listar-destinos', 'protocolos-ajax'), 
    	                               array('required' => true));
    }
    echo $this->fieldList()->select('Prioridade', 'prioridadeId', $this->listaPrioridades, null, array('required' => true));
    echo $this->fieldList()->textbox('Data Prazo', 'dataPrazo', null, array('class' => 'mascaraData'));
    
    if (!$this->tipoProcesso->tramitacao->isParalela()) {
        echo $this->ajaxSelectMultiple('Com CÃ³pia', 
                                       'copias', 
                                       $this->simpleUrl('listar-destinos', 'protocolos-ajax'), 
                                       array('id' => 'copias'));
    }
    
    echo $this->fieldList()->textarea('Corpo', 'corpo', null, array('required' => true));
    echo $this->fieldList()->close();
    ?>
</fieldset>